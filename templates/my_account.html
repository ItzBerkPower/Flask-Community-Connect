{% extends "layout.html" %}
{% block title %}My Account | Community Connect{% endblock %}

{% block content %}
<div class="bubble-container">
    <div class="bubble">
        <h2 class="text-center mb-4">My Account</h2>

        <form method="POST">
            <!-- Shared fields -->
            <div class="mb-3">
                <label class="form-label">Email</label>
                <input type="email" class="form-control" name="email" value="{{ user.email }}" required>
            </div>
            <div class="mb-3">
                <label class="form-label">New Password</label>
                <input type="password" class="form-control" name="password" placeholder="Leave blank to keep current">
            </div>
            <div class="mb-3">
                <label class="form-label">Phone Number</label>
                <input type="text" class="form-control" name="phone_number" value="{{ user.phone_number or '' }}">
            </div>

            {% if user.role == "volunteer" %}
            <!-- Volunteer-specific fields -->
            <div class="mb-3">
                <label class="form-label">First Name</label>
                <input type="text" class="form-control" name="first_name" value="{{ volunteer.volunteer_first_name }}">
            </div>
            <div class="mb-3">
                <label class="form-label">Last Name</label>
                <input type="text" class="form-control" name="last_name" value="{{ volunteer.volunteer_last_name }}">
            </div>
            <div class="mb-3">
                <label class="form-label">Availability</label>
                <select class="form-select" name="availability">
                    <option value="Day" {% if volunteer.volunteer_availability == "Day" %}selected{% endif %}>Day</option>
                    <option value="Night" {% if volunteer.volunteer_availability == "Night" %}selected{% endif %}>Night</option>
                </select>
            </div>
            {% elif user.role == "organisation" %}
            <!-- Organisation-specific fields -->
            <div class="mb-3">
                <label class="form-label">Organisation Name</label>
                <input type="text" class="form-control" name="organisation_name" value="{{ organisation.organisation_name }}">
            </div>
            <div class="mb-3">
                <label class="form-label">Address</label>
                <input type="text" class="form-control" name="organisation_address" value="{{ organisation.organisation_address }}">
            </div>
            <div class="mb-3">
                <label class="form-label">Website</label>
                <input type="url" class="form-control" name="organisation_website" value="{{ organisation.organisation_website or '' }}">
            </div>
            <div class="mb-3">
                <label class="form-label">Description</label>
                <textarea class="form-control" name="organisation_description">{{ organisation.organisation_description }}</textarea>
            </div>
            {% endif %}

            <button type="submit" class="btn btn-custom w-100">Update Account</button>
        </form>
    </div>
</div>
{% endblock %}
